@using ViFlix.DataAccess.Models
@model IList<Customer>

@{
    ViewBag.Title = "Customers";
}


<hr/>
<button type="button" class="btn btn-primary btn-sm" onclick="location.href='@Url.Action("CreateCustomerForm", "Customers")'">Add customer</button>
<hr />

@{
    if (@Model.Count == 0)
    {
        <p>We don't have any customers yet.</p>
    }
    else
    {
        <table id="customers" style="width: 100%" class="table table-bordered table-hover">
            <tr>
                <th>Name</th>
                <th>Membership Type</th>
                <th>Delete</th>
            </tr>
            @foreach (Customer customer in @Model)
            {
                <tr>
                    <!--<td><a href="customers/details/@customer.Id">@customer.Name</a></td> -->
                    <td>@Html.ActionLink(customer.Name, "EditCustomerForm", new { id = customer.Id })</td>
                    <td>@customer.MembershipType.Name</td>
                    <td>
                        <button customer-id="@customer.Id" class="btn-link js-del">Delete</button>
                    </td>
                </tr>
            }

        </table>
    }
}

@section scripts
{
    @Scripts.Render("~/Scripts/deleteCustomer.js")
}